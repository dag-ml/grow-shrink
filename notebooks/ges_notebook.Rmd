---
title: "ges_notebook"
output: html_notebook
---

Using the Greedy Equivalence Search algorithm for pcalg to generate a DAG
using continuous data.

```{r}
library(pcalg)
library(bnlearn)
```


Getting the data from csv files stored locally on device.
We skip the first line to remove the string headers.
We may need to get that info later for analysis, but the current headers
are very long strings that will not display well when graphed.

```{r}
# Dubee
path_lsds_15 <- file.choose()
data_lsds_15 <- read.csv(path_lsds_15, header = FALSE, skip = 1)
```

For this notebook, we will be looking at the Dubee dataset.
We discard the uid and filename so as to not influence the DAG.
Cast V3 column's "Baseline, Vivarium, Flight, Ground Control to ints (1-4),
and then convert it to a dataframe.

```{r}
data_lsds_15 <- as.data.frame(data_lsds_15)
data_lsds_15 <- subset(data_lsds_15, select = -(1:2))
data_lsds_15$V3 <- as.numeric(factor(data_lsds_15$V3, levels = unique(data_lsds_15$V3)))
```

```{r}
data_lsds_15
```
```{r}
dag <- pcalg::ges(data_lsds_15, score = BICscore(data_lsds_15))
```

```{r}
dag
```

